---
author: Tobias Heidler
title: "Prediction Assignment Writeup"
output: html_notebook
---

## Abstract

In this analysis we try to predict the manner in which people exercise based on accelerometers on the belt, forearm, arm, and dumbell of 6 participants from the Weight Lifting Exercise Dataset.

If you want to run this analysis from this Markdown document please make sure to have pml-testing.csv and pml-training.csv in the base directory of this document. 

## Data Import & Transformation

```{r}
options(tidyverse.quiet = TRUE)
suppressPackageStartupMessages({
  library(tidyverse)
  library(lubridate)
})  


# Load Data
pml_training <- readr::read_csv("pml-training.csv", na=c("", "#DIV/0!"))
pml_testing  <- readr::read_csv("pml-testing.csv", na=c("", "#DIV/0!"))

pml_training$cvtd_timestamp <- dmy_hm(pml_training$cvtd_timestamp)
pml_testing$cvtd_timestamp <- dmy_hm(pml_testing$cvtd_timestamp)
```


## Exploratory Analysis

```{r}
# Detect missing value fields
missingValues <- sapply(pml_training, function(x) sum(is.na(x)))
missingValues <- missingValues[missingValues>0]
nClasses <- pml_training %>% count(classe)

par(mfrow=c(2,2))
barplot(missingValues, ylab="N(Only Missing Values)", xlab="Colname", main="Missing Values")
boxplot(pml_training %>% 
          select(-matches(names(missingValues[missingValues >= nrow(pml_training) - 1000]))) %>% 
          select_if(is.numeric), ylab="Values", xlab="Colname", main="Values")
boxplot(sapply(pml_training %>% 
                 select(-matches(names(missingValues[missingValues >= nrow(pml_training) - 1000]))) %>% 
                 select_if(is.numeric), 
               function(x) (x - sd(x)) / (mean(x))),
        ylab="Normalized-Centered Values", xlab="Colname", main="Values")
barplot(n ~ classe, data=nClasses, ylab="N(Classes)", xlab="Class", main="Class Count")


```


